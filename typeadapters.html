<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"-->
  <link rel="stylesheet" href="/gfx/bootstrap.min.css">
  <link rel="stylesheet" href="/gfx/main.css">
  <link rel="stylesheet" href="/gfx/code.css">
  <title>Gson TypeAdapter code</title>
</head>
<body class="page">
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PMJSKV"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PMJSKV');</script>
<!-- End Google Tag Manager -->

<header>
  <div class="container">
    <a href="/">Immutables</a> &larr;

    <h1>Gson TypeAdapter code <iframe src="https://ghbtns.com/github-btn.html?user=immutables&repo=immutables&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
</h1>
  </div>
</header>
<aside id="toc"></aside>
<section class="documentation">
  <p>Example generated code for <em>Gson</em> type adapters</p>

<h3 id="document-types">Document types</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.google.common.collect.Multiset</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.common.collect.SetMultimap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.common.collect.ListMultimap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.immutables.gson.Gson</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.immutables.value.Value</span><span class="o">;</span>

<span class="nd">@Value</span><span class="o">.</span><span class="na">Immutable</span><span class="o">(</span><span class="n">builder</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
<span class="nd">@Value</span><span class="o">.</span><span class="na">Enclosing</span>
<span class="nd">@Gson</span><span class="o">.</span><span class="na">TypeAdapters</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Adapt</span> <span class="o">{</span>

  <span class="nd">@Value</span><span class="o">.</span><span class="na">Parameter</span>
  <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Inr</span><span class="o">&gt;</span> <span class="nf">set</span><span class="o">();</span>

  <span class="nd">@Value</span><span class="o">.</span><span class="na">Parameter</span>
  <span class="nc">Multiset</span><span class="o">&lt;</span><span class="nc">Nst</span><span class="o">&gt;</span> <span class="nf">bag</span><span class="o">();</span>

  <span class="nd">@Value</span><span class="o">.</span><span class="na">Immutable</span>
  <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Inr</span> <span class="o">{</span>
    <span class="nc">String</span><span class="o">[]</span> <span class="nf">arr</span><span class="o">();</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">list</span><span class="o">();</span>

    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Nst</span><span class="o">&gt;</span> <span class="nf">map</span><span class="o">();</span>

    <span class="nc">ListMultimap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Nst</span><span class="o">&gt;</span> <span class="nf">listMultimap</span><span class="o">();</span>

    <span class="nc">SetMultimap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Nst</span><span class="o">&gt;</span> <span class="nf">setMultimap</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="nd">@Value</span><span class="o">.</span><span class="na">Immutable</span>
  <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Nst</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="nf">value</span><span class="o">();</span>

    <span class="nc">String</span> <span class="nf">string</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Below is a source code of generated <code class="language-plaintext highlighter-rouge">TypeAdapterFactory</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.google.common.collect.ImmutableMultiset</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.common.collect.ImmutableSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.common.collect.ListMultimap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.common.collect.SetMultimap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gson.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gson.reflect.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.gson.stream.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.annotation.Generated</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.annotation.ParametersAreNonnullByDefault</span><span class="o">;</span>

<span class="cm">/**
 * {@code TypeAdapterFactory} that handle all the immutable types generated under {@code Adapt}.
 * @see ImmutableAdapt.Inr
 * @see ImmutableAdapt
 * @see ImmutableAdapt.Nst
 */</span>
<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"all"</span><span class="o">)</span>
<span class="nd">@Generated</span><span class="o">({</span><span class="s">"Gsons.generator"</span><span class="o">,</span> <span class="s">"org.immutables.gson.adapter.Adapt"</span><span class="o">})</span>
<span class="nd">@ParametersAreNonnullByDefault</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">GsonAdaptersAdapt</span> <span class="kd">implements</span> <span class="nc">TypeAdapterFactory</span> <span class="o">{</span>
  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span> <span class="c1">// safe unchecked, type is verified by type token equality</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">create</span><span class="o">(</span><span class="nc">Gson</span> <span class="n">gson</span><span class="o">,</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="nc">InrTypeAdapter</span><span class="o">.</span><span class="na">adapts</span><span class="o">(</span><span class="n">type</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="o">(</span><span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;)</span> <span class="k">new</span> <span class="nc">InrTypeAdapter</span><span class="o">(</span><span class="n">gson</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="nc">AdaptTypeAdapter</span><span class="o">.</span><span class="na">adapts</span><span class="o">(</span><span class="n">type</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="o">(</span><span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;)</span> <span class="k">new</span> <span class="nc">AdaptTypeAdapter</span><span class="o">(</span><span class="n">gson</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">(</span><span class="nc">NstTypeAdapter</span><span class="o">.</span><span class="na">adapts</span><span class="o">(</span><span class="n">type</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="o">(</span><span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;)</span> <span class="k">new</span> <span class="nc">NstTypeAdapter</span><span class="o">(</span><span class="n">gson</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">"GsonAdaptersAdapt(Inr, Adapt, Nst)"</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">InrTypeAdapter</span> <span class="kd">extends</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="no">INR_ABSTRACT</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="no">INR_IMMUTABLE</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">MAP_SECONDARY_TYPE_TOKEN</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;()</span> <span class="o">{};</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">LIST_MULTIMAP_SECONDARY_TYPE_TOKEN</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;()</span> <span class="o">{};</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">SET_MULTIMAP_SECONDARY_TYPE_TOKEN</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;()</span> <span class="o">{};</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">mapSecondaryTypeAdapter</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">listMultimapSecondaryTypeAdapter</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">setMultimapSecondaryTypeAdapter</span><span class="o">;</span>
  
    <span class="nc">InrTypeAdapter</span><span class="o">(</span><span class="nc">Gson</span> <span class="n">gson</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">mapSecondaryTypeAdapter</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="na">getAdapter</span><span class="o">(</span><span class="no">MAP_SECONDARY_TYPE_TOKEN</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">listMultimapSecondaryTypeAdapter</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="na">getAdapter</span><span class="o">(</span><span class="no">LIST_MULTIMAP_SECONDARY_TYPE_TOKEN</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">setMultimapSecondaryTypeAdapter</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="na">getAdapter</span><span class="o">(</span><span class="no">SET_MULTIMAP_SECONDARY_TYPE_TOKEN</span><span class="o">);</span>
    <span class="o">}</span> 
  
    <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">adapts</span><span class="o">(</span><span class="nc">TypeToken</span><span class="o">&lt;?&gt;</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="no">INR_ABSTRACT</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">)</span>
          <span class="o">||</span> <span class="no">INR_IMMUTABLE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="n">value</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">writeInr</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="nf">read</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">return</span> <span class="nf">readInr</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">writeInr</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="n">instance</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
      <span class="nc">String</span><span class="o">[]</span> <span class="n">arrElements</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">arr</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">arrElements</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"arr"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">e</span> <span class="o">:</span> <span class="n">arrElements</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">out</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"arr"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">listElements</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">list</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(!</span><span class="n">listElements</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"list"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">e</span> <span class="o">:</span> <span class="n">listElements</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">out</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"list"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">mapMapping</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">map</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(!</span><span class="n">mapMapping</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"map"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">e</span> <span class="o">:</span> <span class="n">mapMapping</span><span class="o">.</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
          <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
          <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
          <span class="n">mapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"map"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="nc">ListMultimap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">listMultimapMapping</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">listMultimap</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(!</span><span class="n">listMultimapMapping</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"listMultimap"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;&gt;</span> <span class="n">e</span> <span class="o">:</span> <span class="n">listMultimapMapping</span><span class="o">.</span><span class="na">asMap</span><span class="o">().</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
          <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
          <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
          <span class="k">for</span> <span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">:</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">listMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"listMultimap"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="nc">SetMultimap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">setMultimapMapping</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">setMultimap</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(!</span><span class="n">setMultimapMapping</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"setMultimap"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;&gt;</span> <span class="n">e</span> <span class="o">:</span> <span class="n">setMultimapMapping</span><span class="o">.</span><span class="na">asMap</span><span class="o">().</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getKey</span><span class="o">());</span>
          <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
          <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
          <span class="k">for</span> <span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">:</span> <span class="n">e</span><span class="o">.</span><span class="na">getValue</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">setMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"setMultimap"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="nf">readInr</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">builder</span><span class="o">();</span>
      <span class="n">in</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">eachAttribute</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">in</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">eachAttribute</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">attributeName</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextName</span><span class="o">();</span>
      <span class="k">switch</span> <span class="o">(</span><span class="n">attributeName</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">case</span> <span class="sc">'a'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"arr"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInArr</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="sc">'l'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"list"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInList</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"listMultimap"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInListMultimap</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="sc">'m'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"map"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInMap</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="sc">'s'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"setMultimap"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInSetMultimap</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
      <span class="o">}</span>
      <span class="n">in</span><span class="o">.</span><span class="na">skipValue</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInArr</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">elements</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;();</span>
      <span class="nc">JsonToken</span> <span class="n">t</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextString</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextString</span><span class="o">());</span>
      <span class="o">}</span>
      <span class="n">builder</span><span class="o">.</span><span class="na">arr</span><span class="o">(</span><span class="n">elements</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="k">new</span> <span class="nc">String</span><span class="o">[</span><span class="n">elements</span><span class="o">.</span><span class="na">size</span><span class="o">()]));</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInList</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">JsonToken</span> <span class="n">t</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">builder</span><span class="o">.</span><span class="na">addList</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextInt</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">builder</span><span class="o">.</span><span class="na">addList</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextInt</span><span class="o">());</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInMap</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">rawKey</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextName</span><span class="o">();</span>
          <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">rawKey</span><span class="o">;</span>
          <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">mapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
          <span class="n">builder</span><span class="o">.</span><span class="na">putMap</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInListMultimap</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">rawKey</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextName</span><span class="o">();</span>
          <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">rawKey</span><span class="o">;</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
            <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
              <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">listMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
              <span class="n">builder</span><span class="o">.</span><span class="na">putListMultimap</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
          <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">listMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="n">builder</span><span class="o">.</span><span class="na">putListMultimap</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInSetMultimap</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">rawKey</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextName</span><span class="o">();</span>
          <span class="kt">int</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">rawKey</span><span class="o">);</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
            <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
              <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">setMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
              <span class="n">builder</span><span class="o">.</span><span class="na">putSetMultimap</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
          <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">setMultimapSecondaryTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
            <span class="n">builder</span><span class="o">.</span><span class="na">putSetMultimap</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
          <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">AdaptTypeAdapter</span> <span class="kd">extends</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">&gt;</span> <span class="no">ADAPT_ABSTRACT</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">ImmutableAdapt</span><span class="o">&gt;</span> <span class="no">ADAPT_IMMUTABLE</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="no">SET_TYPE_TOKEN</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">BAG_TYPE_TOKEN</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="n">setTypeAdapter</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">bagTypeAdapter</span><span class="o">;</span>
  
    <span class="nc">AdaptTypeAdapter</span><span class="o">(</span><span class="nc">Gson</span> <span class="n">gson</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">setTypeAdapter</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="na">getAdapter</span><span class="o">(</span><span class="no">SET_TYPE_TOKEN</span><span class="o">);</span>
      <span class="k">this</span><span class="o">.</span><span class="na">bagTypeAdapter</span> <span class="o">=</span> <span class="n">gson</span><span class="o">.</span><span class="na">getAdapter</span><span class="o">(</span><span class="no">BAG_TYPE_TOKEN</span><span class="o">);</span>
    <span class="o">}</span> 
  
    <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">adapts</span><span class="o">(</span><span class="nc">TypeToken</span><span class="o">&lt;?&gt;</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="no">ADAPT_ABSTRACT</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">)</span>
          <span class="o">||</span> <span class="no">ADAPT_IMMUTABLE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span> <span class="n">value</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">writeAdapt</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Adapt</span> <span class="nf">read</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">return</span> <span class="nf">readAdapt</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">writeAdapt</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span> <span class="n">instance</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
      <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="n">e</span> <span class="o">:</span> <span class="n">instance</span><span class="o">.</span><span class="na">set</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">setTypeAdapter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="n">out</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
      <span class="k">for</span> <span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">e</span> <span class="o">:</span> <span class="n">instance</span><span class="o">.</span><span class="na">bag</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">bagTypeAdapter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="n">out</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="nc">Adapt</span> <span class="nf">readAdapt</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
      <span class="nc">Adapt</span> <span class="n">instance</span> <span class="o">=</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
        <span class="n">readParameterSet</span><span class="o">(</span><span class="n">in</span><span class="o">),</span>
        <span class="n">readParameterBag</span><span class="o">(</span><span class="n">in</span><span class="o">));</span>
      <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="nf">readParameterSet</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">ImmutableSet</span><span class="o">.</span><span class="na">Builder</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span><span class="o">&gt;</span> <span class="n">elements</span> <span class="o">=</span> <span class="nc">ImmutableSet</span><span class="o">.</span><span class="na">builder</span><span class="o">();</span>
      <span class="nc">JsonToken</span> <span class="n">t</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="n">value</span> <span class="o">=</span> <span class="n">setTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
          <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nc">Adapt</span><span class="o">.</span><span class="na">Inr</span> <span class="n">value</span> <span class="o">=</span> <span class="n">setTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">elements</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="nf">readParameterBag</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">ImmutableMultiset</span><span class="o">.</span><span class="na">Builder</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="n">elements</span> <span class="o">=</span> <span class="nc">ImmutableMultiset</span><span class="o">.</span><span class="na">builder</span><span class="o">();</span>
      <span class="nc">JsonToken</span> <span class="n">t</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">BEGIN_ARRAY</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">beginArray</span><span class="o">();</span>
        <span class="k">while</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
          <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">bagTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
          <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">in</span><span class="o">.</span><span class="na">endArray</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">t</span> <span class="o">==</span> <span class="nc">JsonToken</span><span class="o">.</span><span class="na">NULL</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">in</span><span class="o">.</span><span class="na">nextNull</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span> <span class="o">=</span> <span class="n">bagTypeAdapter</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
        <span class="n">elements</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">elements</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">NstTypeAdapter</span> <span class="kd">extends</span> <span class="nc">TypeAdapter</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">NST_ABSTRACT</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypeToken</span><span class="o">&lt;</span><span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">&gt;</span> <span class="no">NST_IMMUTABLE</span> <span class="o">=</span> <span class="nc">TypeToken</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  
    <span class="nc">NstTypeAdapter</span><span class="o">(</span><span class="nc">Gson</span> <span class="n">gson</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span> 
  
    <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">adapts</span><span class="o">(</span><span class="nc">TypeToken</span><span class="o">&lt;?&gt;</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="no">NST_ABSTRACT</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">)</span>
          <span class="o">||</span> <span class="no">NST_IMMUTABLE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">type</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">value</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">writeNst</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="nf">read</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="k">return</span> <span class="nf">readNst</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">writeNst</span><span class="o">(</span><span class="nc">JsonWriter</span> <span class="n">out</span><span class="o">,</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="n">instance</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
      <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"value"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">instance</span><span class="o">.</span><span class="na">value</span><span class="o">());</span>
      <span class="n">out</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"string"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">instance</span><span class="o">.</span><span class="na">string</span><span class="o">());</span>
      <span class="n">out</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="nc">Adapt</span><span class="o">.</span><span class="na">Nst</span> <span class="nf">readNst</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">builder</span><span class="o">();</span>
      <span class="n">in</span><span class="o">.</span><span class="na">beginObject</span><span class="o">();</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">eachAttribute</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">in</span><span class="o">.</span><span class="na">endObject</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">eachAttribute</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">attributeName</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextName</span><span class="o">();</span>
      <span class="k">switch</span> <span class="o">(</span><span class="n">attributeName</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">case</span> <span class="sc">'v'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"value"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInValue</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="sc">'s'</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">"string"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">attributeName</span><span class="o">))</span> <span class="o">{</span>
          <span class="n">readInString</span><span class="o">(</span><span class="n">in</span><span class="o">,</span> <span class="n">builder</span><span class="o">);</span>
          <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
      <span class="o">}</span>
      <span class="n">in</span><span class="o">.</span><span class="na">skipValue</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInValue</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
      <span class="n">builder</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextInt</span><span class="o">());</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">readInString</span><span class="o">(</span><span class="nc">JsonReader</span> <span class="n">in</span><span class="o">,</span> <span class="nc">ImmutableAdapt</span><span class="o">.</span><span class="na">Nst</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="n">builder</span><span class="o">.</span><span class="na">string</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextString</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

</section>
<footer class="jumbotron">
  <div class="container">
    <h2 id="guides">Guides</h2>

<ul>
  <li><a href="/getstarted.html">Get started!</a></li>
  <li><a href="/intro.html">Inception</a></li>
  <li><a href="/immutable.html">Immutable objects</a></li>
  <li><a href="/factory.html">Factory builders</a></li>
  <li><a href="/functional.html">Functions and Predicates (for Java 7)</a></li>
  <li><a href="/style.html">Style customization</a></li>
  <li><a href="/json.html">JSON serialization</a></li>
  <li><a href="/criteria.html">Criteria</a></li>
  <li><a href="/mongo.html">MongoDB repositories</a></li>
  <li><a href="/dynamodb.html">DynamoDB integration</a></li>
  <li><a href="/encoding.html">Encoding: Customizing attributes and builders (experimental)</a></li>
  <li><a href="/apt.html">Using annotation processor in IDE</a></li>
</ul>

<h2 id="get-involved">Get involved</h2>

<ul>
  <li>Clone source repository, contribute bug reports and fixes on <a href="https://github.com/immutables/immutables">GitHub immutables/immutables</a></li>
  <li>Issue reports, questions and feedback is welcome on issue tracker <a href="https://github.com/immutables/immutables/issues">GitHub immutables/immutables/issues</a></li>
  <li>News and announcements on twitter <a href="https://twitter.com/ImmutablesOrg">@ImmutablesOrg</a></li>
</ul>

<p><a href="/license.html">Apache License 2.0</a></p>

    <!--<div><h2>Posts</h2>
      <ul>
        
      </ul>
    </div>-->
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script defer src="/gfx/jquery.toc.min.js"></script>
<script>
$(function() {
  $('#toc').toc({
    container: '.documentation',
    selectors: 'h1,h2,h3,h4',
    anchorName: function(i, heading, prefix) {
      heading = $(heading).text();
      if (heading.trim) heading = heading.trim();
      return heading.toLowerCase().replace(/ /g, '-').replace(/[^a-z^\-]+/g, '');
    },
  })
})
</script>
</body>
</html>
